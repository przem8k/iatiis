\section{Fitting Approximate Primitives to Images}

\paragraph*{}
Utilizing the shape fitting techniques in the context of image analysis requires extraction of the points to which the primitives will be fitted. Typically such extraction is done by means of \refchap{1DEdgeDetection} or \refchap{2DEdgeDetection}, which allow to fit the shapes to step edges or ridges present in the image.

\paragraph*{}
The methods of \refchap{1DEdgeDetection} allow to build particularly useful technique for fitting approximately positioned primitives to their actual occurences. The idea is to take a rough estimation of the primitive location and construct a set of scan lines going across the approximate primitive. By performing one-dimensional edge or ridge detection along each scan line, we obtain a set of points that, hopefully, represent the actual position of the primitive being located.

\paragraph*{}
In \reffig{FitSegmentToEdges} a segment is fitted to the edge of an object, while \reffig{FitCircleToRidges} demonstrates an example of fitting a circle to a circular ridge.

\twoFigures
{ShapeFitting/img/SegmentToEdges_Scans}
{ShapeFitting/img/SegmentToEdges_Result}
{Shape fitting applied to fit a segment to an edge.}
{FitSegmentToEdges}
{\basicWidth}

\twoFigures
{ShapeFitting/img/CircleToRiges_Scans}
{ShapeFitting/img/CircleToRiges_Result}
{Shape fitting applied to fit a circle to a ridge.}
{FitCircleToRidges}
{\basicWidth}

\begin{refImpl}
\studio provides filters for each type of primitive, one filter of a pair fitting the primitive to image edges, second - to image ridges, and third - to image stripes:
\begin{itemize}
	\item \filter{FitArcToEdges}{ShapeFitting}, \filter{FitArcToRidge}{ShapeFitting}, \filter{FitArcToStripe}{ShapeFitting}
	\item \filter{FitCircleToEdges}{ShapeFitting}, \filter{FitCircleToRidges}{ShapeFitting}, \filter{FitCircleToStripe}{ShapeFitting}
	\item \filter{FitPathToEdges}{ShapeFitting}, \filter{FitPathToRidges}{ShapeFitting}, \filter{FitPathToStripe}{ShapeFitting}
	\item \filter{FitSegmentToEdges}{ShapeFitting}, \filter{FitSegmentToRidges}{ShapeFitting}, \filter{FitSegmentToStripe}{ShapeFitting}
\end{itemize}
\end{refImpl}